<!DOCTYPE html>
<html>
<head><title>Upload Test</title></head>
<body>
<h1>Resume Upload Test</h1>
<input type="file" id="fileInput" accept=".pdf,.docx,.txt">
<button onclick="uploadFile()">Upload</button>
<pre id="output"></pre>

<script>
async function uploadFile() {
  const file = document.getElementById('fileInput').files[0];
  if (!file) {
    document.getElementById('output').textContent = 'No file selected';
    return;
  }

  document.getElementById('output').textContent = 'Uploading...';

  try {
    const formData = new FormData();
    formData.append('file', file);

    const res = await fetch('https://rewriteme.app/api/resumes/upload', {
      method: 'POST',
      body: formData,
      credentials: 'include'
    });

    const data = await res.json();
    document.getElementById('output').textContent = JSON.stringify(data, null, 2);
  } catch (err) {
    document.getElementById('output').textContent = 'Error: ' + err.message;
  }
}
</script>
</body>
</html>
